{% extends "layout.html" %}

{% block title %}AdministraciÃ³n SMS{% endblock %}

{% block contenido %}
<section class="space-y-6 animate-fade-in-down">
  <!-- ðŸŸ¢ Encabezado -->
  <h2 class="text-white text-lg font-semibold flex items-center gap-2">
    <i data-lucide="message-circle" class="w-5 h-5 text-emerald-400"></i>
    AdministraciÃ³n SMS
  </h2>



  <!-- ðŸŽ›ï¸ Filtros -->
  {% include "fragmentos/sms_filtros.html" %}

  <!-- ðŸ”˜ Botones -->
  <div class="flex flex-wrap items-center gap-4 mt-2">
    <button onclick="aplicarFiltros()" class="btn-emerald btn-interactivo">Aplicar filtros</button>
    <button onclick="exportarExcel()" class="btn-blue btn-interactivo">Exportar a Excel</button>
    <button onclick="limpiarFiltros()" class="btn-gray btn-interactivo">ðŸ§¹ Limpiar filtros</button>
  </div>

  <!-- ðŸ“Š Tabla + paginaciÃ³n -->
  <div class="border border-white/10 rounded-lg shadow-lg bg-gray-800/30">
    <div class="p-4 space-y-4 relative">

      <!-- ðŸ“‹ Tabla con scroll interno -->
      {% include "fragmentos/sms_tabla.html" %}

      <!-- ðŸ“Š Indicador de rango -->
      <div id="rangoRegistros" class="text-center text-gray-300 text-sm italic">
        Mostrando registros 1â€“5
      </div>

      <!-- ðŸ” PaginaciÃ³n fija -->
      <div class="flex justify-center items-center gap-4 text-white text-sm pt-2 border-t border-white/10">
        <button id="prevPagina" class="btn-gray btn-interactivo" disabled>Anterior</button>
        <span>PÃ¡gina <span id="paginaActual">1</span></span>
        <button id="nextPagina" class="btn-gray btn-interactivo">Siguiente</button>
      </div>
    </div>
  </div>

  <!-- ðŸ§ª Trigger invisible para animaciones Tailwind -->
  <div class="animate-fade-in hidden"></div>
</section>
{% endblock %}

{% block scripts %}
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
  <script src="/static/js/sms_admin.js"></script>
  <script>lucide.createIcons();</script>
{% endblock %}