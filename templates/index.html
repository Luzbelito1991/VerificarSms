{% extends "layout.html" %}

{% block title %}Iniciar sesión{% endblock %}

{% block contenido %}
<div class="flex justify-center items-center min-h-[85vh] px-4 animate-fade-in-up">
  <section class="w-full max-w-sm bg-gray-900/70 backdrop-blur-md border border-white/10 rounded-xl shadow-2xl p-6 space-y-6">

    <!-- Encabezado con ícono -->
    <header class="text-center space-y-1">
      <div class="mx-auto flex items-center justify-center w-12 h-12 rounded-full bg-[#4DA874]/10 ring-1 ring-[#4DA874]/30 shadow-sm animate-fade-in">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-[#4DA874]" fill="none" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 11c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 20a6 6 0 0112 0H6z" />
        </svg>
      </div>
      <h1 class="text-2xl font-semibold text-white tracking-tight">Bienvenido</h1>
      <p class="text-sm text-gray-400">Ingresá tus credenciales para acceder</p>
    </header>

    <!-- Formulario -->
    <form id="loginForm" method="POST" autocomplete="off" class="space-y-4">

      <!-- Campo usuario con ícono -->
      <div class="relative">
        <label for="username" class="block text-sm text-gray-300 mb-1">Usuario</label>
        <input id="username" name="username" type="text" required autocomplete="username" autofocus
               class="w-full bg-gray-800 border border-gray-700 pl-10 pr-3 py-2 rounded-md text-sm text-white placeholder-gray-500 focus:ring-2 focus:ring-[#4DA874] outline-none" />
        <div class="absolute left-3 top-9 text-gray-400">
          <i data-lucide="user" class="w-4 h-4"></i>
        </div>
      </div>

      <!-- Campo contraseña con toggle -->
      <div class="relative">
        <label for="password" class="block text-sm text-gray-300 mb-1">Contraseña</label>
        <input id="password" name="password" type="password" required autocomplete="current-password"
               class="w-full bg-gray-800 border border-gray-700 pl-10 pr-10 py-2 rounded-md text-sm text-white placeholder-gray-500 focus:ring-2 focus:ring-[#4DA874] outline-none" />
        <div class="absolute left-3 top-9 text-gray-400">
          <i data-lucide="lock" class="w-4 h-4"></i>
        </div>
        <button type="button" id="togglePassword" class="absolute right-3 top-9 text-gray-400 hover:text-gray-200 focus:outline-none">
          <i id="eyeIcon" data-lucide="eye" class="w-4 h-4"></i>
        </button>
      </div>

      <!-- Botón ingresar -->
      <div>
        <button type="submit"
                class="w-full bg-[#4DA874] hover:bg-emerald-600 text-white font-semibold py-2.5 rounded-md text-sm flex items-center justify-center gap-2 shadow-md hover:shadow-lg transition">
          <i data-lucide="log-in" class="w-4 h-4"></i>
          Ingresar
        </button>
      </div>
    </form>

    <!-- Footer -->
    <footer class="text-center pt-4 text-xs text-gray-500">
      Versión 1.0.0<br>
      <span class="text-[#4DA874] font-semibold">Los Quilmes S.A</span><br>
      <span class="italic text-white text-[11px]">By Fernando Valle</span>
    </footer>
  </section>
</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("togglePassword");
    const pwd = document.getElementById("password");
    const icon = document.getElementById("eyeIcon");

    toggle.addEventListener("click", () => {
      const visible = pwd.type === "text";
      pwd.type = visible ? "password" : "text";
      icon.setAttribute("data-lucide", visible ? "eye" : "eye-off");
      lucide.createIcons(); // re-render
    });
  });
</script>
<script>lucide.createIcons();</script>
{% endblock %}