{% extends "layout.html" %}

{% block title %}Gesti√≥n de Usuarios{% endblock %}

{% block contenido %}
<section class="space-y-7 animate-fade-in-up">

  <!-- üü¢ Encabezado moderno -->
  <header class="space-y-2">
    <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-emerald-500/20 to-emerald-600/20 border border-emerald-400/40">
      <i data-lucide="user-cog" class="w-5 h-5 text-emerald-300"></i>
      <span class="text-sm font-semibold text-emerald-200 tracking-wide">Gesti√≥n de Usuarios</span>
    </div>
  </header>

  <!-- üîç Buscador mejorado -->
  <div>
    {% include "usuarios/busqueda.html" %}
  </div>

  <!-- üß© Panel con tabla -->
  <div class="glass-effect border border-white/20 rounded-2xl p-6 shadow-2xl">
    <div class="min-h-[480px] flex flex-col justify-between space-y-5">
      
      <!-- üìã Tabla -->
      <div class="overflow-x-auto">
        {% include "usuarios/tabla.html" %}
      </div>

      <!-- üìö Paginaci√≥n -->
      <div class="flex flex-col items-center space-y-3 pt-4 border-t border-white/10">
        {% include "usuarios/paginacion.html" %}
        <div id="infoPaginacion" class="text-xs text-gray-400 text-center"></div>
      </div>
    </div>
  </div>

</section>

<!-- üßæ Modal Crear/Editar Usuario -->
<div id="modalUsuario" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 hidden">
  <div class="glass-effect border border-white/20 rounded-2xl p-8 w-full max-w-2xl shadow-2xl relative animate-fade-in-up max-h-[90vh] overflow-y-auto">
    <button onclick="cerrarModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white p-2 rounded-lg hover:bg-white/10 transition-all">
      <i data-lucide="x" class="w-5 h-5"></i>
    </button>
    {% include "usuarios/formulario.html" %}
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/gestionUsuarios.js?v=2.0"></script>
<script>lucide.createIcons();</script>
{% endblock %}
